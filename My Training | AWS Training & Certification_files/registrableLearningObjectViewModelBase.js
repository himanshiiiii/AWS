/** Copyright 2018 Amazon.com Inc. or its affiliates. All Rights Reserved. **/
define(["lodash","knockoutjs","enums","viewModelHelper","learningObjectKind","learningObjectViewModelBase","userSubscriptionState","subscriptionProduct"],function(a,b,c,d,e,f,g,h){var i=function(i,j){var k=this;null!==j&&void 0!==j&&b.utils.extend(k,new f(i,j)),k.userSubscriptionStateForLoTransitionResult=b.observable(new g(d.getPropertyValueOrDefault(i,"UserSubscriptionStateForLoTransitionResult"))),k.transcriptStateTransitionResult=b.observable(d.getPropertyValueOrDefault(i,"TranscriptStateTransitionResult")),k.isLearningObjectUnlisted=b.observable(d.getPropertyValueOrDefault(i,"IsUnlisted")),k.learningObjectSchedulingStatus=b.observable(Number(d.getPropertyValueOrDefault(i,"SchedulingStatus"))),k.learningObjectKind=b.observable(d.getPropertyValueOrDefault(i,"Kind")),k.subscriptionProducts=b.observableArray(a.map(d.getPropertyValueOrDefault(i,"SubscriptionProducts")||[],function(a){return b.observable(new h(a))})),k.isAlreadySubscribed=b.computed(function(){return k.userSubscriptionStateForLoTransitionResult().loUserSubscriptionState()===c.UserSubscriptionState.ActiveUserSubscriptionExists},k),k.isSubscriptionRequired=b.computed(function(){return k.userSubscriptionStateForLoTransitionResult().loUserSubscriptionState()===c.UserSubscriptionState.UserSubscriptionRequired},k),k.isRegistrationAllowed=b.computed(function(){var a=[c.transcriptStateTransitionResult.success,c.transcriptStateTransitionResult.seatAvailable];return!k.isSubscriptionRequired()&&(null===k.transcriptStateTransitionResult()||""===k.transcriptStateTransitionResult()||void 0===k.transcriptStateTransitionResult()||a.indexOf(k.transcriptStateTransitionResult())>-1)},k),k.isRegistrationClosed=b.computed(function(){return k.transcriptStateTransitionResult()===c.transcriptStateTransitionResult.registrationClosed},k),k.isPaymentRequired=b.computed(function(){return k.transcriptStateTransitionResult()===c.transcriptStateTransitionResult.paymentRequired},k),k.isPaymentPending=b.computed(function(){return k.transcriptStateTransitionResult()===c.transcriptStateTransitionResult.paymentPending},k),k.isSeatNotAvailable=b.computed(function(){return k.transcriptStateTransitionResult()===c.transcriptStateTransitionResult.seatNotAvailable||k.transcriptStateTransitionResult()===c.transcriptStateTransitionResult.SeatNotAvailableRegistrationRestriction},k),k.isWaitlistOff=b.computed(function(){return k.transcriptStateTransitionResult()===c.transcriptStateTransitionResult.waitlistOff},k),k.isApprovalNeeded=b.computed(function(){return k.transcriptStateTransitionResult()===c.transcriptStateTransitionResult.approvalRequired},k),k.isAlreadyInTranscript=b.computed(function(){var a=[c.transcriptStateTransitionResult.transitionNotNeeded,c.transcriptStateTransitionResult.transcriptExists];return a.indexOf(k.transcriptStateTransitionResult())>-1},k),k.isNotActive=b.computed(function(){var a=[c.transcriptStateTransitionResult.notActive];return a.indexOf(k.transcriptStateTransitionResult())>-1},k),k.isNotAvailable=b.computed(function(){var a=[c.transcriptStateTransitionResult.notScheduled,c.transcriptStateTransitionResult.loKindNotAllowed,c.transcriptStateTransitionResult.notAvailable,c.transcriptStateTransitionResult.notActive,c.transcriptStateTransitionResult.registrationClosed];return!(!e.isIlt(k.learningObjectKind())||k.learningObjectSchedulingStatus()===c.learningObjectSchedulingStatus.scheduled)||a.indexOf(k.transcriptStateTransitionResult())>-1},k),k.isInvalid=b.computed(function(){var a=[c.transcriptStateTransitionResult.invalid,c.transcriptStateTransitionResult.invalidTranscriptUser,c.transcriptStateTransitionResult.invalidSchedulingStatus,c.transcriptStateTransitionResult.transitionNotAllowed];return a.indexOf(k.transcriptStateTransitionResult())>-1},k)};return i});