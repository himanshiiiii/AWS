/** Copyright 2018 Amazon.com Inc. or its affiliates. All Rights Reserved. **/
define(["lodash","knockoutjs","enums","viewModelHelper","learningObject"],function(a,b,c,d,e){function f(f){var g=this;if(f||(f={}),g.EntityStatus={Active:0,Inactive:1},g.title=b.observable(d.getPropertyValueOrDefault(f,"Title")),g.description=b.observable(d.getPropertyValueOrDefault(f,"Description")),g.owner=b.observable(d.getPropertyValueOrDefault(f,"Owner")),g.id=b.observable(d.getPropertyValueOrDefault(f,"Id")),g.baseId=b.observable(d.getPropertyValueOrDefault(f,"BaseId")),g.cultureCode=b.observable(d.getPropertyValueOrDefault(f,"CultureCode")),g.isReady=b.observable(d.getPropertyValueOrDefault(f,"IsReady")),f.Status&&a.values(g.EntityStatus).indexOf(f.Status)===-1)throw"Error, invalid status!";g.status=b.observable(f.Status||g.EntityStatus.Active),g.price=b.observable(d.getPropertyValueOrDefault(f,"Price")),g.freeDuration=b.observable(d.getPropertyValueOrDefault(f,"FreeDuration")),g.learningObjects=b.observable(a.map(d.getPropertyValueOrDefault(f,"LearningObjects")||[],function(a){return b.observable(new e(a))})),g.subscriptionProductMessage=b.observable(),g.paymentAuthRequired=function(){return g.freeDuration()||g.price()},g.getEditUrl=function(){return"/Admin/Subscription?mode="+c.adminPageMode.update+"&id="+g.baseId()},g.editPageUrl=g.getEditUrl,g.getFindTrainingUrl=function(){return"/Training?searchPhrase=enrollment_id_"+g.baseId()},g.getPaymentUrl=function(){return"/Subscription?subscription="+g.id()},g.getRegistrationUrl=function(){return"/Subscription?subscription="+g.id()}}return f});